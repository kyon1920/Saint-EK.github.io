<!DOCTYPE html>
<html lang="zh-cn" >
<head>
  <meta charset="utf-8"/>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>

  
  <meta name="author"
        content="Bruce Cheung"/>

  
  <meta name="description" content=""/>
  

  
  
  <meta name="keywords" content="blog, simple, dream"/>
  

  
  <link rel="canonical" href="https://oubc.github.io/post/l19_oscode4/"/>

  

  <title>Linuxç³»ç»Ÿç¼–ç¨‹ (ç»ˆç«¯&amp;å®ˆæŠ¤è¿›ç¨‹) &middot; Love, or death</title>

  <link rel="shortcut icon" href="https://oubc.github.io/images/favicon.ico"/>
  <link rel="stylesheet" href="https://oubc.github.io/css/animate.min.css"/>
  <link rel="stylesheet" href="https://oubc.github.io/css/remixicon.css"/>
  <link rel="stylesheet" href="https://oubc.github.io/css/zozo.css"/>
  <link rel="stylesheet" href="https://oubc.github.io/css/highlight.css"/>

  
  
</head>

<body>
<div class="main animated">
  <div class="nav_container animated fadeInDown">
  <div class="site_nav" id="site_nav">
    <ul>
      
      <li>
        <a href="/">é¦–é¡µ</a>
      </li>
      
      <li>
        <a href="/post/">å½’æ¡£</a>
      </li>
      
      <li>
        <a href="/tags/">æ ‡ç­¾</a>
      </li>
      
      <li>
        <a href="/about/">å…³äº</a>
      </li>
      
    </ul>
  </div>
  <div class="menu_icon">
    <a id="menu_icon"><i class="remixicon-links-line"></i></a>
  </div>
</div>

  <div class="header animated fadeInDown">
  <div class="site_title_container">
    <div class="site_title">
      <h1>
        <a href="https://oubc.github.io/">
          <span>Love, or death</span>
          <img src="https://oubc.github.io/images/logo.svg"/>
        </a>
      </h1>
    </div>
    <div class="description">
      <p class="sub_title">For you, a thousand times over.</p>
      <div class="my_socials">
        
        
        <a href="https://github.com/oubc" title="github" target="_blank"><i class="remixicon-github-fill"></i></a>
        
        
        
        <a href="http://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&amp;email=uYGOjo6OiIuLivnIyJfa1tQ" title="mail" target="_blank"><i class="remixicon-mail-fill"></i></a>
        
        
        
        <a href="http://sighttp.qq.com/msgrd?v=1&amp;uin=877771223" title="qq" target="_blank"><i class="remixicon-qq-fill"></i></a>
        
        
        
        <a href="https://github.com/oubc/oubc.github.io/blob/master/images/wx.jpg?raw=true" title="wechat" target="_blank"><i class="remixicon-wechat-fill"></i></a>
        
        
        
        <a href="https://weibo.com/u/6993631995?topnav=1&amp;wvr=6&amp;topsug=1" title="weibo" target="_blank"><i class="remixicon-weibo-fill"></i></a>
        
        
        <a href="https://oubc.github.io/index.xml" type="application/rss+xml" title="rss" target="_blank"><i class="remixicon-rss-fill"></i></a>
      </div>
    </div>
  </div>
</div>

  <div class="content">
    <div class="post_page">
      <div class="post animated fadeInDown">
        <div class="post_title post_detail_title">
          <h2><a href='/post/l19_oscode4/'>Linuxç³»ç»Ÿç¼–ç¨‹ (ç»ˆç«¯&amp;å®ˆæŠ¤è¿›ç¨‹)</a></h2>
          <span class="date">2019.09.30</span>
        </div>
        <div class="post_content markdown"><p><br>
<br>
<font color = gray size = 2>åˆ—è¡¨ï¼Œå±•å¼€ç‚¹å‡»è·³è½¬</font>
<br>
<details class="menu" close>
      <summary><font color=blue size = 4>ç»ˆç«¯</font></summary>
      <ul>
          <li><a href="#bc0">ç»ˆç«¯æ¦‚å¿µ</a></li>
          <li><a href="#bc1">ç»ˆç«¯çš„å¯åŠ¨æµç¨‹</a></li>
          <li><a href="#bc2">çº¿è·¯è§„ç¨‹(line discipline)</a></li>
          <li><a href="#bc3">ttyname() å‡½æ•°</a></li>
          <li><a href="#bc4">ç½‘ç»œç»ˆç«¯</a></li>
      </ul>
</details>
<details class="menu" close>
      <summary><font color=blue size = 4>è¿›ç¨‹ç»„</font></summary>
      <ul>
          <li><a href="#bc5">è¿›ç¨‹ç»„çš„æ¦‚å¿µå’Œç‰¹æ€§</a></li>
          <li><a href="#bc6">è¿›ç¨‹ç»„æ“ä½œå‡½æ•°</a></li>
          <li><a href="#bc6">getpgrp() å‡½æ•°</a></li>
          <li><a href="#bc7">getpgid() å‡½æ•°</a></li>
          <li><a href="#bc8">setpgid() å‡½æ•°</a></li>
      </ul>
</details>
<details class="menu" close>
      <summary><font color=blue size = 4>ä¼šè¯</font></summary>
      <ul>
          <li><a href="#bc9">ä»€ä¹ˆæ˜¯ä¼šè¯</a></li>
          <li><a href="#bc10">åˆ›å»ºä¼šè¯</a></li>
          <li><a href="#bc11">getsid() å‡½æ•°</a></li>
          <li><a href="#bc12">setsid() å‡½æ•°</a></li>
      </ul>
</details>
<details class="menu" close>
      <summary><font color=blue size = 4>å®ˆæŠ¤è¿›ç¨‹</font></summary>
      <ul>
          <li><a href="#bc13">ä»€ä¹ˆæ˜¯å®ˆæŠ¤è¿›ç¨‹</a></li>
          <li><a href="#bc14">åˆ›å»ºå®ˆæŠ¤è¿›ç¨‹æ¨¡å‹</a></li>
      </ul>
</details>
<br>
<br>
<br>
<br>
<br><font color=black size = 5><a name="bc0">ç»ˆç«¯æ¦‚å¿µ</a></font>
<br> ğŸ˜¸ ç»ˆç«¯ï¼šæ‰€æœ‰è¾“å…¥è¾“å‡ºè®¾å¤‡çš„æ€»ç§°
<br> ğŸ˜¸ åœ¨Unixç³»ç»Ÿä¸­ï¼Œç”¨æˆ·é€šè¿‡ç»ˆç«¯ç™»å½•ç³»ç»Ÿåå¾—åˆ°ä¸€ä¸ªShellè¿›ç¨‹ï¼Œè¿™ä¸ªç»ˆç«¯æˆä¸ºShellè¿›ç¨‹çš„æ§åˆ¶ç»ˆç«¯ (Controlling Terminal)ï¼Œè¿›ç¨‹ä¸­ï¼Œæ§åˆ¶ç»ˆç«¯æ˜¯ä¿å­˜åœ¨PCBä¸­çš„ä¿¡æ¯ï¼Œè€Œforkä¼šå¤åˆ¶PCBä¸­çš„ä¿¡æ¯ï¼Œå› æ­¤ç”±SHellè¿›ç¨‹å¯åŠ¨çš„å…¶å®ƒè¿›ç¨‹çš„æ§åˆ¶ç»ˆç«¯ä¹Ÿæ˜¯è¿™ä¸ªç»ˆç«¯ï¼Œé»˜è®¤æƒ…å†µä¸‹(æ²¡æœ‰é‡å®šå‘)ï¼Œæ¯ä¸ªè¿›ç¨‹çš„æ ‡å‡†è¾“å…¥ã€æ ‡å‡†è¾“å‡ºå’Œæ ‡å‡†é”™è¯¯è¾“å‡ºéƒ½æŒ‡å‘æ§åˆ¶ç»ˆç«¯ï¼Œè¿›ç¨‹ä»æ ‡å‡†è¾“å…¥è¯»ä¹Ÿå°±æ˜¯è¯»ç”¨æˆ·çš„é”®ç›˜è¾“å…¥ï¼Œè¿›ç¨‹å¾€æ ‡å‡†è¾“å‡ºæˆ–æ ‡å‡†é”™è¯¯è¾“å‡ºåˆ°æ˜¾ç¤ºå™¨ä¸Šï¼Œä¿¡å·ä¸­æåˆ°è¿‡ï¼Œåœ¨æ§åˆ¶ç»ˆç«¯è¾“å…¥ä¸€äº›ç‰¹æ®Šçš„æ§åˆ¶é”®å¯ä»¥ç»™å‰å°è¿›ç¨‹å‘é€ä¿¡å·ï¼Œä¾‹å¦‚ï¼šCtrl+cè¡¨ç¤ºSIGINTã€Ctrl+'\'è¡¨ç¤ºSIGQUITã€‚
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Alt + Ctrl + F1ã€F2ã€F3ã€F4ã€F5ã€F6 å­—ç¬¦ç»ˆç«¯        pts (pseudo terminal slave) æŒ‡ä¼ªç»ˆç«¯
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Alt + F7       å›¾å½¢ç»ˆç«¯
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SSHã€Telnet ... ç½‘ç»œç»ˆç«¯
<br>
<br><font color=black size = 5><a name="bc1">ç»ˆç«¯çš„å¯åŠ¨æµç¨‹</a></font>
<br> â— æ–‡ä»¶ä¸I/Oä¸­è®²è¿‡ï¼Œæ¯ä¸ªè¿›ç¨‹éƒ½å¯ä»¥é€šè¿‡ä¸€ä¸ªç‰¹æ®Šçš„è®¾å¤‡æ–‡ä»¶/dev/ttyè®¿é—®å®ƒçš„æ§åˆ¶ç»ˆç«¯ã€‚äº‹å®ä¸Šæ¯ä¸ªç»ˆç«¯è®¾å¤‡éƒ½å¯¹åº”ä¸€ä¸ªä¸åŒçš„è®¾å¤‡æ–‡ä»¶ï¼Œ/dev/ttyæä¾›äº†ä¸€ä¸ªé€šç”¨çš„æ¥å£ï¼Œä¸€ä¸ªè¿›ç¨‹è¦è®¿é—®å®ƒçš„æ§åˆ¶ç»ˆç«¯æ—¢å¯ä»¥é€šè¿‡/dev/ttyä¹Ÿå¯ä»¥é€šè¿‡è¯¥ç»ˆç«¯è®¾å¤‡æ‰€å¯¹åº”çš„è®¾å¤‡æ–‡ä»¶æ¥è®¿é—®ã€‚ttynameå‡½æ•°å¯ä»¥ç”±æ–‡ä»¶æè¿°ç¬¦æŸ¥å‡ºå¯¹åº”çš„æ–‡ä»¶åï¼Œè¯¥æ–‡ä»¶æè¿°ç¬¦å¿…é¡»æŒ‡å‘ä¸€ä¸ªç»ˆç«¯è®¾å¤‡è€Œä¸èƒ½æ˜¯ä»»æ„æ–‡ä»¶ã€‚
<br> â— ç®€å•æ¥è¯´ï¼Œä¸€ä¸ªLinuxç³»ç»Ÿå¯åŠ¨ï¼Œå¤§è‡´ç»å†å¦‚ä¸‹çš„æ­¥éª¤ï¼š
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; init â†’ fork â†’ exec â†’ getty â†’ ç”¨æˆ·è¾“å…¥å¸å· â†’ login â†’ è¾“å…¥å¯†ç  â†’ exec â†’ bash
<br>
<br><font color=black size = 5><a name="bc2">çº¿è·¯è§„ç¨‹ (line discipline)</a></font>
<br> â— ç¡¬ä»¶é©±åŠ¨ç¨‹åºè´Ÿè´£è¯»å†™å®é™…çš„ç¡¬ä»¶è®¾å¤‡ï¼Œæ¯”å¦‚ä»é”®ç›˜è¯»å…¥å­—ç¬¦å’ŒæŠŠå­—ç¬¦è¾“å‡ºåˆ°æ˜¾ç¤ºå™¨ï¼Œçº¿è·¯è§„ç¨‹åƒä¸€ä¸ªè¿‡æ»¤å™¨ï¼Œå¯¹äºæŸäº›ç‰¹æ®Šå­—ç¬¦å¹¶ä¸æ˜¯è®©å®ƒç›´æ¥é€šè¿‡ï¼Œè€Œæ˜¯åšç‰¹æ®Šå¤„ç†ï¼Œæ¯”å¦‚åœ¨é”®ç›˜ä¸ŠæŒ‰ä¸‹Ctrl+zï¼Œå¯¹åº”çš„å­—ç¬¦å¹¶ä¸ä¼šè¢«ç”¨æˆ·ç¨‹åºçš„readè¯»åˆ°ï¼Œè€Œæ˜¯è¢«çº¿è·¯è§„ç¨‹æˆªè·ï¼Œè§£é‡ŠæˆSIGTSTPä¿¡å·å‘ç»™å‰å°è¿›ç¨‹ï¼Œé€šå¸¸ä¼šä½¿è¯¥è¿›ç¨‹åœæ­¢ã€‚çº¿è·¯è§„ç¨‹åº”è¯¥è¿‡æ»¤å“ªäº›å­—ç¬¦å’Œåšå“ªäº›ç‰¹æ®Šå¤„ç†æ˜¯å¯ä»¥é…ç½®çš„ã€‚
<br> ğŸ˜¸ ç»ˆç«¯è®¾å¤‡æ¨¡å—
<br><img src="https://github.com/oubc/oubc.github.io/blob/master/images/L19_OScode0.png?raw=true" width="400" height="750" />
<br> ğŸ˜¸ line disciline: çº¿è·¯è§„ç¨‹ï¼Œç”¨æ¥è¿‡æ»¤é”®ç›˜è¾“å…¥çš„å†…å®¹ã€‚
<br>
<br><font color=black size = 5><a name="bc3">ttyname() å‡½æ•°</a></font>
<br> ğŸ˜¸ ç”±æ–‡ä»¶æè¿°ç¬¦æŸ¥å‡ºå¯¹åº”çš„æ–‡ä»¶å
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; char *ttyname(int fd);    æˆåŠŸï¼šç»ˆç«¯åï¼›å¤±è´¥ï¼šNULLï¼Œè®¾ç½®errno
<br> ğŸ˜¸ ä¸‹é¢æˆ‘ä»¬å€ŸåŠ©ttynameå‡½æ•°ï¼Œé€šè¿‡å®éªŒçœ‹ä¸€ä¸‹å„ç§ä¸åŒçš„ç»ˆç«¯æ‰€å¯¹åº”çš„è®¾å¤‡æ–‡ä»¶åã€‚
<br><div style="width:100%;border:1px #e3e3e3 solid;"><div style="width:100%;font-family:'Consolas', 'Courier New';font-size:12px;border-bottom:1px solid #e3e3e3;margin-top:5px;color:#000000;">&nbsp;C++ Code&nbsp;</div><table style="width:100%;font-family:'Consolas', 'Courier New';font-size:12px;vertical-align:text-top;line-height:15px;" border="0" cellspacing="0" cellpadding="0"><tr><td style="color:#008284;background-color:#e3e3e3;vertical-align:text-top;"><div style="margin:7px;text-align:right;white-space:nowrap;"><nobr>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br></nobr></div></td><td style="background-color:#008284;padding:1px;"><div style="border:1px #008284 solid;"></div></td><td style="background-color:#efefef;width:100%;vertical-align:text-top;color:#000000;"><div style="margin:7px;"><span style="color:#0000ff;">#include</span><span style="color:#000000;">&nbsp;&lt;unistd.h&gt;<BR>
</span><span style="color:#0000ff;">#include</span><span style="color:#000000;">&nbsp;&lt;stdio.h&gt;<BR>
</span><span style="color:#8000ff;">int</span><span style="color:#000000;">&nbsp;main(</span><span style="color:#8000ff;">void</span><span style="color:#000000;">)<BR>
{<BR>
&nbsp;&nbsp;&nbsp;&nbsp;printf(</span><span style="color:#800000;">&quot;fd&nbsp;0:&nbsp;%s\n&quot;</span><span style="color:#000000;">,&nbsp;ttyname(</span><span style="color:#ff0000;">0</span><span style="color:#000000;">));<BR>
&nbsp;&nbsp;&nbsp;&nbsp;printf(</span><span style="color:#800000;">&quot;fd&nbsp;1:&nbsp;%s\n&quot;</span><span style="color:#000000;">,&nbsp;ttyname(</span><span style="color:#ff0000;">1</span><span style="color:#000000;">));<BR>
&nbsp;&nbsp;&nbsp;&nbsp;printf(</span><span style="color:#800000;">&quot;fd&nbsp;2:&nbsp;%s\n&quot;</span><span style="color:#000000;">,&nbsp;ttyname(</span><span style="color:#ff0000;">2</span><span style="color:#000000;">));<BR>
&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:#0000ff;">return</span><span style="color:#000000;">&nbsp;</span><span style="color:#ff0000;">0</span><span style="color:#000000;">;<BR>
}</span></div></td></tr></table></div>
<br>
<br><font color=black size = 5><a name="bc4">ç½‘ç»œç»ˆç«¯</a></font>
<br> â— è™šæ‹Ÿç»ˆç«¯æˆ–ä¸²å£ç»ˆç«¯çš„æ•°ç›®æ˜¯æœ‰é™çš„ï¼Œè™šæ‹Ÿç»ˆç«¯(å­—ç¬¦æ§åˆ¶ç»ˆç«¯)ä¸€èˆ¬å°±æ˜¯/dev/tty1âˆ¼/dev/tty6å…­ä¸ªï¼Œä¸²å£ç»ˆç«¯çš„æ•°ç›®ä¹Ÿä¸è¶…è¿‡ä¸²å£çš„æ•°ç›®ã€‚ç„¶è€Œç½‘ç»œç»ˆç«¯æˆ–å›¾å½¢ç»ˆç«¯çª—å£çš„æ•°ç›®å´æ˜¯ä¸å—é™åˆ¶çš„ï¼Œè¿™æ˜¯é€šè¿‡ä¼ªç»ˆç«¯ï¼ˆPseudo TTYï¼‰å®ç°çš„ã€‚ä¸€å¥—ä¼ªç»ˆç«¯ç”±ä¸€ä¸ªä¸»è®¾å¤‡ï¼ˆPTY Masterï¼‰å’Œä¸€ä¸ªä»è®¾å¤‡ï¼ˆPTY Slaveï¼‰ç»„æˆã€‚ä¸»è®¾å¤‡åœ¨æ¦‚å¿µä¸Šç›¸å½“äºé”®ç›˜å’Œæ˜¾ç¤ºå™¨ï¼Œåªä¸è¿‡å®ƒä¸æ˜¯çœŸæ­£çš„ç¡¬ä»¶è€Œæ˜¯ä¸€ä¸ªå†…æ ¸æ¨¡å—ï¼Œæ“ä½œå®ƒçš„ä¹Ÿä¸æ˜¯ç”¨æˆ·è€Œæ˜¯å¦å¤–ä¸€ä¸ªè¿›ç¨‹ã€‚ä»è®¾å¤‡å’Œä¸Šé¢ä»‹ç»çš„/dev/tty1è¿™æ ·çš„ç»ˆç«¯è®¾å¤‡æ¨¡å—ç±»ä¼¼ï¼Œåªä¸è¿‡å®ƒçš„åº•å±‚é©±åŠ¨ç¨‹åºä¸æ˜¯è®¿é—®ç¡¬ä»¶è€Œæ˜¯è®¿é—®ä¸»è®¾å¤‡ã€‚ç½‘ç»œç»ˆç«¯æˆ–å›¾å½¢ç»ˆç«¯çª—å£çš„Shellè¿›ç¨‹ä»¥åŠå®ƒå¯åŠ¨çš„å…¶å®ƒè¿›ç¨‹éƒ½ä¼šè®¤ä¸ºè‡ªå·±çš„æ§åˆ¶ç»ˆç«¯æ˜¯ä¼ªç»ˆç«¯ä»è®¾å¤‡ï¼Œä¾‹å¦‚/dev/pts/0ã€/dev/pts/1ç­‰ã€‚ä¸‹é¢ä»¥telnetä¸ºä¾‹è¯´æ˜ç½‘ç»œç™»å½•å’Œä½¿ç”¨ä¼ªç»ˆç«¯çš„è¿‡ç¨‹ã€‚
<br> ğŸ˜¸ ç½‘ç»œç»ˆç«¯
<br><img src="https://github.com/oubc/oubc.github.io/blob/master/images/L19_OScode1.png?raw=true" width="800" height="450" />
<br> ğŸ˜¸ TCP/IPåè®®æ ˆï¼šåœ¨æ•°æ®åŒ…ä¸Šæ·»åŠ æŠ¥å¤´ã€‚
<br> â— å¦‚æœtelnetå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´çš„ç½‘ç»œå»¶è¿Ÿè¾ƒå¤§ï¼Œæˆ‘ä»¬ä¼šè§‚å¯Ÿåˆ°æŒ‰ä¸‹ä¸€ä¸ªé”®ä¹‹åè¦è¿‡å‡ ç§’é’Ÿæ‰èƒ½å›æ˜¾åˆ°å±å¹•ä¸Šã€‚è¿™è¯´æ˜æˆ‘ä»¬æ¯æŒ‰ä¸€ä¸ªé”®telnetå®¢æˆ·ç«¯éƒ½ä¼šç«‹åˆ»æŠŠè¯¥å­—ç¬¦å‘é€ç»™æœåŠ¡å™¨ï¼Œç„¶åè¿™ä¸ªå­—ç¬¦ç»è¿‡ä¼ªç»ˆç«¯ä¸»è®¾å¤‡å’Œä»è®¾å¤‡ä¹‹åè¢«Shellè¿›ç¨‹è¯»å–ï¼ŒåŒæ—¶å›æ˜¾åˆ°ä¼ªç»ˆç«¯ä»è®¾å¤‡ï¼Œå›æ˜¾çš„å­—ç¬¦å†ç»è¿‡ä¼ªç»ˆç«¯ä¸»è®¾å¤‡ã€telnetdæœåŠ¡å™¨å’Œç½‘ç»œå‘å›ç»™telnetå®¢æˆ·ç«¯ï¼Œæ˜¾ç¤ºç»™ç”¨æˆ·çœ‹ã€‚ä¹Ÿè®¸ä½ ä¼šè§‰å¾—åƒæƒŠï¼Œä½†çœŸçš„æ˜¯è¿™æ ·ï¼šæ¯æŒ‰ä¸€ä¸ªé”®éƒ½è¦åœ¨ç½‘ç»œä¸Šèµ°ä¸ªæ¥å›ï¼
<br>
<br><font color=black size = 5><a name="bc5">æ¦‚å¿µå’Œç‰¹æ€§</a></font>
<br> ğŸ˜¸ è¿›ç¨‹ç»„ï¼Œä¹Ÿç§°ä¸ºä½œä¸šã€‚
<br> â— BSDäº1980å¹´å‰åå‘Unixä¸­å¢åŠ çš„ä¸€ä¸ªæ–°ç‰¹æ€§ï¼Œä»£è¡¨ä¸€ä¸ªæˆ–å¤šä¸ªè¿›ç¨‹çš„é›†åˆï¼Œæ¯ä¸ªè¿›ç¨‹éƒ½å±äºä¸€ä¸ªè¿›ç¨‹ç»„ï¼Œåœ¨waitpidå‡½æ•°å’Œkillå‡½æ•°çš„å‚æ•°ä¸­éƒ½æ›¾ä½¿ç”¨åˆ°ï¼Œæ“ä½œç³»ç»Ÿè®¾è®¡çš„è¿›ç¨‹ç»„çš„æ¦‚å¿µï¼Œæ˜¯ä¸ºäº†ç®€åŒ–å¯¹å¤šä¸ªè¿›ç¨‹è¿›ç¨‹çš„ç®¡ç†ã€‚
<br> â— å½“çˆ¶è¿›ç¨‹åˆ›å»ºå­è¿›ç¨‹çš„æ—¶å€™ï¼Œé»˜è®¤å­è¿›ç¨‹ä¸çˆ¶è¿›ç¨‹å±äºåŒä¸€ä¸ªè¿›ç¨‹ç»„ï¼Œè¿›ç¨‹ç»„ID ç­‰äº æ¯ä¸€ä¸ªè¿›ç¨‹ID (ç»„é•¿è¿›ç¨‹)ï¼Œæ‰€ä»¥ï¼Œç»„é•¿è¿›ç¨‹æ ‡è¯†å…¶è¿›ç¨‹ç»„IDã€‚
<br> â— å¯ä»¥ä½¿ç”¨ kill -SIGKILL -è¿›ç¨‹ç»„ID (è´Ÿæ•°) æ¥å°†æ•´ä¸ªè¿›ç¨‹å†…çš„è¿›ç¨‹å…¨éƒ¨æ€æ­»ã€‚
<br> â— ç»„é•¿è¿›ç¨‹å¯ä»¥åˆ›å»ºä¸€ä¸ªè¿›ç¨‹ç»„ï¼Œåˆ›å»ºè¯¥è¿›ç¨‹ç»„ä¸­çš„è¿›ç¨‹ã€ç»ˆæ­¢è¯¥è¿›ç¨‹ç»„ä¸­çš„è¿›ç¨‹ã€‚
<br> â— åªè¦è¿›ç¨‹ç»„ä¸­æœ‰ä¸€ä¸ªè¿›ç¨‹å­˜åœ¨ï¼Œè¿›ç¨‹ç»„å°±ä¼šå­˜åœ¨ï¼Œä¸ç»„é•¿è¿›ç¨‹æ˜¯å¦ç»ˆæ­¢æ— å…³ã€‚
<br> â— è¿›ç¨‹ç»„çš„ç”Ÿå­˜æœŸä¸ºè¿›ç¨‹ç»„åˆ›å»ºåˆ°æœ€åä¸€ä¸ªè¿›ç¨‹ç¦»å¼€(ç»ˆæ­¢æˆ–è€…è½¬ç§»åˆ°å¦ä¸€ä¸ªè¿›ç¨‹ç»„ä¸­)ã€‚
<br> ğŸ˜¸ ä¸€ä¸ªè¿›ç¨‹å¯ä»¥ä¸ºè‡ªå·±æˆ–å­è¿›ç¨‹è®¾ç½®è¿›ç¨‹ç»„ID
<br>
<br><font color=black size = 5>è¿›ç¨‹ç»„æ“ä½œå‡½æ•°</font>
<br>
<br><font color=black size = 5><a name="bc6">getpgrp() å‡½æ•°</a></font>
<br> ğŸ˜¸ è·å–å½“å‰è¿›ç¨‹çš„è¿›ç¨‹ç»„ID
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pid_t getpgrp(void);  æ€»æ˜¯è¿”å›è°ƒç”¨è€…çš„è¿›ç¨‹ç»„ID
<br>
<br><font color=black size = 5><a name="bc7">getpgid() å‡½æ•°</a></font>
<br> ğŸ˜¸ è·å–æŒ‡å®šè¿›ç¨‹çš„è¿›ç¨‹ç»„ID
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pid_t getpgid(pid_t pid);    æˆåŠŸè¿”å›0ï¼Œå¤±è´¥è¿”å›-1ï¼Œè®¾ç½®errno
<br> â— å¦‚æœpid = 0ï¼Œé‚£ä¹ˆè¯¥å‡½æ•°ä½œç”¨å’Œgetpgrp å‡½æ•°ä¸€æ ·
<br>
<br><font color=black size = 5><a name="bc8">setpgid() å‡½æ•°</a></font>
<br> ğŸ˜¸ æ”¹å˜è¿›ç¨‹é»˜è®¤æ‰€å±çš„è¿›ç¨‹ç»„ï¼Œé€šå¸¸å¯ç”¨æ¥åŠ å…¥ä¸€ä¸ªç°æœ‰çš„è¿›ç¨‹ç»„æˆ–åˆ›å»ºä¸€ä¸ªæ–°è¿›ç¨‹ç»„
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int setpgid(pid_t pid, pid_t pgid);  æˆåŠŸè¿”å›0ï¼Œå¤±è´¥è¿”å›-1ï¼Œè®¾ç½®errno
<br> â— å°†å‚1å¯¹åº”çš„è¿›ç¨‹ï¼ŒåŠ å…¥å‚2å¯¹åº”çš„è¿›ç¨‹ç»„ä¸­ã€‚
<br> â— æ³¨æ„ï¼š
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0. å¦‚æ”¹å˜å­è¿›ç¨‹ä¸ºæ–°çš„ç»„ï¼Œåº”forkåï¼Œexecå‰ã€‚
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1. æƒçº§é—®é¢˜ã€‚érootè¿›ç¨‹åªèƒ½æ”¹å˜è‡ªå·±åˆ›å»ºçš„å­è¿›ç¨‹ï¼Œæˆ–æœ‰æƒé™æ“ä½œçš„è¿›ç¨‹
<br> ğŸ˜¸ ç»¼åˆç¼–ç¨‹å®æˆ˜ï¼šä½¿ç”¨ä»¥ä¸Šå‡½æ•°å¹¶ä¿®æ”¹å­è¿›ç¨‹çš„è¿›ç¨‹ç»„ID
<br>
<br>
<br><font color=black size = 5><a name="bc9">ä¼šè¯æ˜¯ä»€ä¹ˆï¼Ÿ</a></font>
<br> ğŸ˜¸ è¿›ç¨‹ç»„æ˜¯è¿›ç¨‹çš„é›†åˆï¼ŒæŠŠä¸€ç»„è¿›ç¨‹ç»Ÿä¸€ç®¡ç†èµ·æ¥ç»™å®ƒä»¬èµ·ä¸€ä¸ªç¼–å·å°±æ˜¯è¿›ç¨‹ç»„ï¼ŒæŠŠä¸€ç»„è¿›ç¨‹ç»„é‡æ–°ç¼–å·å°±å½¢æˆäº†ä¼šè¯
<br><div style="width:100%;border:1px #e3e3e3 solid;"><div style="width:100%;font-family:'Consolas', 'Courier New';font-size:12px;border-bottom:1px solid #e3e3e3;margin-top:5px;color:#000000;">&nbsp;C++ Code&nbsp;</div><table style="width:100%;font-family:'Consolas', 'Courier New';font-size:12px;vertical-align:text-top;line-height:15px;" border="0" cellspacing="0" cellpadding="0"><tr><td style="color:#008284;background-color:#e3e3e3;vertical-align:text-top;"><div style="margin:7px;text-align:right;white-space:nowrap;"><nobr>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22<br>23<br>24<br>25<br>26<br>27<br>28<br>29<br>30<br>31<br>32<br>33<br>34<br>35<br></nobr></div></td><td style="background-color:#008284;padding:1px;"><div style="border:1px #008284 solid;"></div></td><td style="background-color:#efefef;width:100%;vertical-align:text-top;color:#000000;"><div style="margin:7px;"><span style="color:#0000ff;">#include</span><span style="color:#000000;">&nbsp;&lt;iostream&gt;<BR>
</span><span style="color:#0000ff;">#include</span><span style="color:#000000;">&nbsp;&lt;stdlib.h&gt;<BR>
</span><span style="color:#0000ff;">#include</span><span style="color:#000000;">&nbsp;&lt;unistd.h&gt;<BR>
</span><span style="color:#0000ff;">#include</span><span style="color:#000000;">&nbsp;&lt;signal.h&gt;<BR>
</span><span style="color:#0000ff;">using</span><span style="color:#000000;">&nbsp;</span><span style="color:#0000ff;">namespace</span><span style="color:#000000;">&nbsp;std;<BR>
</span><span style="color:#8000ff;">int</span><span style="color:#000000;">&nbsp;main()<BR>
{<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pid_t&nbsp;pid;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pid&nbsp;=&nbsp;fork();<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:#0000ff;">if</span><span style="color:#000000;">&nbsp;(pid&nbsp;==&nbsp;</span><span style="color:#ff0000;">0</span><span style="color:#000000;">)<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cout&nbsp;&lt;&lt;&nbsp;</span><span style="color:#800000;">&quot;I'm&nbsp;child&nbsp;progress,&nbsp;my&nbsp;gpid&nbsp;is&nbsp;&quot;</span><span style="color:#000000;">&nbsp;&lt;&lt;&nbsp;getpgrp()&nbsp;&lt;&lt;&nbsp;endl;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cout&nbsp;&lt;&lt;&nbsp;</span><span style="color:#800000;">&quot;Now,&nbsp;I&nbsp;want&nbsp;modify&nbsp;my&nbsp;gpid&nbsp;...&quot;</span><span style="color:#000000;">&nbsp;&lt;&lt;&nbsp;endl;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:#8000ff;">int</span><span style="color:#000000;">&nbsp;ret&nbsp;=&nbsp;setpgid(getpid(),&nbsp;getpid());<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:#0000ff;">if</span><span style="color:#000000;">&nbsp;(ret&nbsp;==&nbsp;</span><span style="color:#ff0000;">0</span><span style="color:#000000;">)<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cout&nbsp;&lt;&lt;&nbsp;</span><span style="color:#800000;">&quot;Modify&nbsp;success,&nbsp;my&nbsp;gpid&nbsp;is&nbsp;&quot;</span><span style="color:#000000;">&nbsp;&lt;&lt;&nbsp;getpgrp()&nbsp;&lt;&lt;&nbsp;endl;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:#0000ff;">else</span><span style="color:#000000;"><BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cerr&nbsp;&lt;&lt;&nbsp;</span><span style="color:#800000;">&quot;Modify&nbsp;failed!&quot;</span><span style="color:#000000;">&nbsp;&lt;&lt;&nbsp;endl;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exit(</span><span style="color:#ff0000;">1</span><span style="color:#000000;">);<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:#0000ff;">else</span><span style="color:#000000;">&nbsp;</span><span style="color:#0000ff;">if</span><span style="color:#000000;">&nbsp;(pid&nbsp;&lt;&nbsp;</span><span style="color:#ff0000;">0</span><span style="color:#000000;">)<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cerr&nbsp;&lt;&lt;&nbsp;</span><span style="color:#800000;">&quot;fork&nbsp;error!&quot;</span><span style="color:#000000;">&nbsp;&lt;&lt;&nbsp;endl;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exit(</span><span style="color:#ff0000;">1</span><span style="color:#000000;">);<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:#0000ff;">else</span><span style="color:#000000;"><BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cout&nbsp;&lt;&lt;&nbsp;</span><span style="color:#800000;">&quot;I'm&nbsp;parent&nbsp;progress,&nbsp;my&nbsp;gpid&nbsp;is&nbsp;&quot;</span><span style="color:#000000;">&nbsp;&lt;&lt;&nbsp;getpgid(</span><span style="color:#ff0000;">0</span><span style="color:#000000;">)&nbsp;&lt;&lt;&nbsp;endl;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:#0000ff;">return</span><span style="color:#000000;">&nbsp;</span><span style="color:#ff0000;">0</span><span style="color:#000000;">;<BR>
}</span></div></td></tr></table></div>
<br>
<br><font color=black size = 5><a name="bc10">åˆ›å»ºä¼šè¯</a></font>
<br> â— åˆ›å»ºä¸€ä¸ªä¼šè¯éœ€è¦æ³¨æ„ä»¥ä¸‹6ç‚¹ï¼š
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0ã€è°ƒç”¨è¿›ç¨‹ä¸èƒ½æ˜¯è¿›ç¨‹ç»„ç»„é•¿ï¼Œè¯¥è¿›ç¨‹å˜æˆæ–°ä¼šè¯é¦–è¿›ç¨‹ (session header)
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1ã€è¯¥è¿›ç¨‹æˆä¸ºä¸€ä¸ªæ–°è¿›ç¨‹ç»„çš„ç»„é•¿è¿›ç¨‹
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2ã€éœ€æœ‰rootæƒé™ (ubuntuç³»ç»Ÿä¸éœ€è¦)
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3ã€æ–°ä¼šè¯ä¸¢å¼ƒåŸæœ‰çš„æ§åˆ¶ç»ˆç«¯ï¼Œè¯¥ä¼šè¯æ²¡æœ‰æ§åˆ¶ç»ˆç«¯
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 4ã€è¯¥è°ƒç”¨è¿›ç¨‹æ˜¯ç»„é•¿è¿›ç¨‹ï¼Œåˆ™å‡ºé”™è¿”å›
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 5ã€å»ºç«‹æ–°ä¼šè¯æ—¶ï¼Œå…ˆè°ƒç”¨forkï¼Œçˆ¶è¿›ç¨‹ç»ˆæ­¢ï¼Œå­è¿›ç¨‹è°ƒç”¨setsid() å‡½æ•°
<br>
<br><font color=black size = 5><a name="bc11">getsid() å‡½æ•°</a></font>
<br> â— è·å–è¿›ç¨‹æ‰€å±çš„ä¼šè¯ID
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pid_t getsid(pid_t pid); æˆåŠŸè¿”å›è°ƒç”¨è¿›ç¨‹çš„ä¼šè¯IDï¼Œå¤±è´¥è¿”å›-1å¹¶è®¾ç½®errno
<br> â— pidä¸º0è¡¨ç¤ºæŸ¥çœ‹å½“å‰è¿›ç¨‹session ID
<br> â— ps ajx å‘½ä»¤æŸ¥çœ‹ç³»ç»Ÿä¸­çš„è¿›ç¨‹ï¼Œå‚æ•°aè¡¨ç¤ºä¸ä»…åˆ—å‡ºå½“å‰ç”¨æˆ·çš„è¿›ç¨‹ï¼Œä¹Ÿåˆ—å‡ºå…¶å®ƒæ‰€æœ‰ç”¨æˆ·çš„è¿›ç¨‹ï¼Œå‚æ•°xè¡¨ç¤ºä¸ä»…åˆ—å‡ºæ§åˆ¶ç»ˆç«¯çš„è¿›ç¨‹ï¼Œä¹Ÿåˆ—å‡ºæ‰€æœ‰æ— æ§åˆ¶ç»ˆç«¯çš„è¿›ç¨‹ï¼Œå‚æ•°jè¡¨ç¤ºåˆ—å‡ºä¸ä½œä¸šæ§åˆ¶ç›¸å…³çš„ä¿¡æ¯
<br> â— ç»„é•¿è¿›ç¨‹ä¸èƒ½æˆä¸ºæ–°ä¼šè¯é¦–è¿›ç¨‹ï¼Œæ–°ä¼šè¯é¦–è¿›ç¨‹å¿…å®šä¼šæˆä¸ºç»„é•¿è¿›ç¨‹
<br>
<br><font color=black size = 5><a name="bc12">setsid() å‡½æ•°</a></font>
<br> ğŸ˜¸ åˆ›å»ºä¸€ä¸ªä¼šè¯ï¼Œå¹¶ä»¥è‡ªå·±çš„IDè®¾ç½®è¿›ç¨‹ç»„IDï¼ŒåŒæ—¶ä¹Ÿæ˜¯æ–°ä¼šè¯çš„ID
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pid_t setsid(void);       æˆåŠŸè¿”å›è°ƒç”¨çš„ä¼šè¯IDï¼Œå¤±è´¥è¿”å›-1å¹¶è®¾ç½®errno
<br> â— è°ƒç”¨äº†setsidå‡½æ•°çš„è¿›ç¨‹ï¼Œæ—¢æ˜¯æ–°çš„ä¼šé•¿ï¼Œä¹Ÿæ˜¯æ–°çš„ç»„é•¿
<br> ğŸ˜¸ ç¼–ç¨‹å®æˆ˜ï¼šforkä¸€ä¸ªå­è¿›ç¨‹ï¼Œå¹¶ä½¿å…¶åˆ›å»ºä¸€ä¸ªæ–°ä¼šè¯ï¼ŒæŸ¥çœ‹è¿›ç¨‹ç»„IDã€ä¼šè¯IDå‰åå˜åŒ–
<br><div style="width:100%;border:1px #e3e3e3 solid;"><div style="width:100%;font-family:'Consolas', 'Courier New';font-size:12px;border-bottom:1px solid #e3e3e3;margin-top:5px;color:#000000;">&nbsp;C++ Code&nbsp;</div><table style="width:100%;font-family:'Consolas', 'Courier New';font-size:12px;vertical-align:text-top;line-height:15px;" border="0" cellspacing="0" cellpadding="0"><tr><td style="color:#008284;background-color:#e3e3e3;vertical-align:text-top;"><div style="margin:7px;text-align:right;white-space:nowrap;"><nobr>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22<br>23<br>24<br>25<br>26<br>27<br>28<br>29<br></nobr></div></td><td style="background-color:#008284;padding:1px;"><div style="border:1px #008284 solid;"></div></td><td style="background-color:#efefef;width:100%;vertical-align:text-top;color:#000000;"><div style="margin:7px;"><span style="color:#0000ff;">#include</span><span style="color:#000000;">&nbsp;&lt;iostream&gt;<BR>
</span><span style="color:#0000ff;">#include</span><span style="color:#000000;">&nbsp;&lt;stdlib.h&gt;<BR>
</span><span style="color:#0000ff;">#include</span><span style="color:#000000;">&nbsp;&lt;unistd.h&gt;<BR>
</span><span style="color:#0000ff;">using</span><span style="color:#000000;">&nbsp;</span><span style="color:#0000ff;">namespace</span><span style="color:#000000;">&nbsp;std;<BR>
<BR>
</span><span style="color:#8000ff;">int</span><span style="color:#000000;">&nbsp;main()<BR>
{<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pid_t&nbsp;pid;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:#0000ff;">if</span><span style="color:#000000;">&nbsp;((pid&nbsp;=&nbsp;fork())&nbsp;&lt;&nbsp;</span><span style="color:#ff0000;">0</span><span style="color:#000000;">)<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cerr&nbsp;&lt;&lt;&nbsp;</span><span style="color:#800000;">&quot;fork&nbsp;error&nbsp;!&quot;</span><span style="color:#000000;">&nbsp;&lt;&lt;&nbsp;endl;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exit(</span><span style="color:#ff0000;">1</span><span style="color:#000000;">);<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:#0000ff;">else</span><span style="color:#000000;">&nbsp;</span><span style="color:#0000ff;">if</span><span style="color:#000000;">&nbsp;(pid&nbsp;==&nbsp;</span><span style="color:#ff0000;">0</span><span style="color:#000000;">)<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cout&nbsp;&lt;&lt;&nbsp;</span><span style="color:#800000;">&quot;I'm&nbsp;child&nbsp;progress,&nbsp;my&nbsp;Pid&nbsp;is&nbsp;&quot;</span><span style="color:#000000;">&nbsp;&lt;&lt;&nbsp;getpid()&nbsp;&lt;&lt;&nbsp;endl;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cout&nbsp;&lt;&lt;&nbsp;</span><span style="color:#800000;">&quot;and&nbsp;my&nbsp;group&nbsp;ID&nbsp;is&nbsp;&quot;</span><span style="color:#000000;">&nbsp;&lt;&lt;&nbsp;getpgid(</span><span style="color:#ff0000;">0</span><span style="color:#000000;">)&nbsp;&lt;&lt;&nbsp;endl;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cout&nbsp;&lt;&lt;&nbsp;</span><span style="color:#800000;">&quot;Session&nbsp;ID&nbsp;is&nbsp;&quot;</span><span style="color:#000000;">&nbsp;&lt;&lt;&nbsp;getsid(</span><span style="color:#ff0000;">0</span><span style="color:#000000;">)&nbsp;&lt;&lt;&nbsp;endl;<BR>
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cout&nbsp;&lt;&lt;&nbsp;</span><span style="color:#800000;">&quot;Now,&nbsp;I&nbsp;want&nbsp;modify&nbsp;my&nbsp;session&nbsp;ID&nbsp;...&quot;</span><span style="color:#000000;">&nbsp;&lt;&lt;&nbsp;endl;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sleep(</span><span style="color:#ff0000;">2</span><span style="color:#000000;">);<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;setsid();<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cout&nbsp;&lt;&lt;&nbsp;</span><span style="color:#800000;">&quot;Now,&nbsp;my&nbsp;pid&nbsp;is&nbsp;&quot;</span><span style="color:#000000;">&nbsp;&lt;&lt;&nbsp;getpid()&nbsp;&lt;&lt;&nbsp;endl;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cout&nbsp;&lt;&lt;&nbsp;</span><span style="color:#800000;">&quot;and&nbsp;my&nbsp;group&nbsp;ID&nbsp;is&nbsp;&quot;</span><span style="color:#000000;">&nbsp;&lt;&lt;&nbsp;getpgid(</span><span style="color:#ff0000;">0</span><span style="color:#000000;">)&nbsp;&lt;&lt;&nbsp;endl;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cout&nbsp;&lt;&lt;&nbsp;</span><span style="color:#800000;">&quot;Session&nbsp;ID&nbsp;is&nbsp;&quot;</span><span style="color:#000000;">&nbsp;&lt;&lt;&nbsp;getsid(</span><span style="color:#ff0000;">0</span><span style="color:#000000;">)&nbsp;&lt;&lt;&nbsp;endl;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exit(</span><span style="color:#ff0000;">0</span><span style="color:#000000;">);<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:#0000ff;">return</span><span style="color:#000000;">&nbsp;</span><span style="color:#ff0000;">0</span><span style="color:#000000;">;<BR>
}</span></div></td></tr></table></div>
<br>
<br><font color=black size = 5><a name="bc13">ä»€ä¹ˆæ˜¯å®ˆæŠ¤è¿›ç¨‹ï¼Ÿ</a></font>
<br> ğŸ˜¸ Daemon(ç²¾çµ)è¿›ç¨‹ï¼Œæ˜¯Linuxä¸­çš„åå°æœåŠ¡è¿›ç¨‹ï¼Œé€šå¸¸ç‹¬ç«‹äºæ§åˆ¶ç»ˆç«¯å¹¶ä¸”å‘¨æœŸæ€§åœ°æ‰§è¡ŒæŸç§ä»»åŠ¡æˆ–ç­‰å¾…å¤„ç†æŸäº›å‘ç”Ÿçš„äº‹æƒ…ï¼Œä¸€èˆ¬é‡‡ç”¨ä»¥dç»“å°¾çš„åå­—ï¼švsftpdã€httpdã€sshdã€xinetdã€(vim /etc/passwd)ï¼›
<br> ğŸ˜¸ Linuxåå°çš„ä¸€äº›ç³»ç»ŸæœåŠ¡å™¨è¿›ç¨‹ï¼Œæ²¡æœ‰æ§åˆ¶ç»ˆç«¯ï¼Œä¸èƒ½ç›´æ¥å’Œç”¨æˆ·äº¤äº’ï¼Œä¸å—ç”¨æˆ·ç™»å½•ã€æ³¨é”€å½±å“ï¼Œä¸€ç›´åœ¨è¿è¡Œç€ï¼Œå®ƒä»¬éƒ½æ˜¯å®ˆæŠ¤è¿›ç¨‹ï¼Œå¦‚ï¼šé¢„è¯»å…¥ç¼“å†²è¾“å‡ºæœºåˆ¶çš„å®ç°ã€ftpæœåŠ¡å™¨ã€nfsæœåŠ¡å™¨ç­‰ï¼›
<br> ğŸ˜¸ åˆ›å»ºå®ˆæŠ¤è¿›ç¨‹ï¼Œæœ€å…³é”®çš„ä¸€æ­¥æ˜¯è°ƒç”¨ setsid() å‡½æ•°(ä¸¢å¼ƒåŸæœ‰çš„æ§åˆ¶ç»ˆç«¯ï¼Œå®ˆæŠ¤è¿›ç¨‹åˆšå¥½ä¸éœ€è¦æ§åˆ¶ç»ˆç«¯)åˆ›å»ºä¸€ä¸ªæ–°çš„Sessionï¼Œå¹¶æˆä¸ºSession Leaderã€‚
<br>
<br><font color=black size = 5><a name="bc14">åˆ›å»ºå®ˆæŠ¤è¿›ç¨‹æ¨¡å‹</a></font>
<br>&nbsp;&nbsp; 0ã€åˆ›å»ºå­è¿›ç¨‹ï¼Œçˆ¶è¿›ç¨‹é€€å‡º
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; æ‰€æœ‰å·¥ä½œåœ¨å­è¿›ç¨‹ä¸­è¿›è¡Œå½¢å¼ä¸Šè„±ç¦»äº†æ§åˆ¶ç»ˆç«¯
<br>&nbsp;&nbsp; 1ã€å­è¿›ç¨‹åˆ›å»ºæ–°ä¼šè¯
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; setsid() å‡½æ•°
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ä½¿å­è¿›ç¨‹å®Œå…¨ç‹¬ç«‹å‡ºæ¥ï¼Œè„±ç¦»æ§åˆ¶
<br>&nbsp;&nbsp; 2ã€æ”¹å˜å½“å‰ç›®å½•ä¸ºæ ¹ç›®å½•
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; chdir() å‡½æ•°
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; é˜²æ­¢å ç”¨å¯å¸è½½çš„æ–‡ä»¶ç³»ç»Ÿ
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ä¹Ÿå¯ä»¥æ¢æˆå…¶å®ƒè·¯å¾„
<br>&nbsp;&nbsp; 3ã€é‡è®¾æ–‡ä»¶æƒé™æ©ç 
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; umask() å‡½æ•°
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; é˜²æ­¢ç»§æ‰¿çš„æ–‡ä»¶åˆ›å»ºå±è”½å­—æ‹’ç»æŸäº›æƒé™
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; å¢åŠ å®ˆæŠ¤è¿›ç¨‹çµæ´»æ€§
<br>&nbsp;&nbsp; 4ã€å…³é—­æ–‡ä»¶æè¿°ç¬¦
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ç»§æ‰¿çš„æ‰“å¼€æ–‡ä»¶ä¸ä¼šç”¨åˆ°ï¼Œæµªè´¹ç³»ç»Ÿèµ„æºï¼Œæ— æ³•å¸è½½
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; å°†æ–‡ä»¶æè¿°ç¬¦0ã€1ã€2é‡å®šå‘åˆ° /dev/nullï¼Œåˆ©ç”¨dup2()
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0ã€1ã€2ä¸‰ä¸ªæ–‡ä»¶æè¿°ç¬¦æ˜¯å½“ä¸€ä¸ªè¿›ç¨‹äº§ç”Ÿçš„åŒæ—¶è‡ªåŠ¨æ‰“å¼€ï¼Œå®ƒä»¬åˆ†åˆ«æŒ‡å‘æ ‡å‡†è¾“å…¥ã€æ ‡å‡†è¾“å‡ºã€æ ‡å‡†å‡ºé”™ï¼Œè€Œå®ƒä»¬å¯¹åº”çš„éƒ½æ˜¯ç»ˆç«¯è®¾å¤‡ï¼Œä¼šè¯ä¼šè„±ç¦»ç»ˆç«¯ï¼Œæ‰€æœ‰å®ƒä»¬å·²ç»æ²¡æœ‰æ„ä¹‰äº†
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ä½†ä¸ç›´æ¥å°†0ã€1ã€2éƒ½close()ï¼Œåœ¨å®ˆæŠ¤è¿›ç¨‹ä¹Ÿè®¸ä¼šä½¿ç”¨openæ‰“å¼€æ–‡ä»¶ï¼Œæ–‡ä»¶æè¿°ç¬¦å¾—åˆ°0(ä¸€èˆ¬éƒ½æ˜¯ä»3å¼€å§‹ï¼Œå¾—åˆ°3)ï¼Œè€Œæ˜¯ç»Ÿä¸€é‡å®šå‘
<br>&nbsp;&nbsp; 5ã€å¼€å§‹æ‰§è¡Œå®ˆæŠ¤è¿›ç¨‹æ ¸å¿ƒå·¥ä½œ
<br>&nbsp;&nbsp; 6ã€å®ˆæŠ¤è¿›ç¨‹é€€å‡ºå¤„ç†ç¨‹åºæ¨¡å‹
<br> ğŸ˜¸ ç¼–ç¨‹å®æˆ˜ï¼Œåˆ›å»ºå®ˆæŠ¤è¿›ç¨‹
<br><div style="width:100%;border:1px #e3e3e3 solid;"><div style="width:100%;font-family:'Consolas', 'Courier New';font-size:12px;border-bottom:1px solid #e3e3e3;margin-top:5px;color:#000000;">&nbsp;C++ Code&nbsp;</div><table style="width:100%;font-family:'Consolas', 'Courier New';font-size:12px;vertical-align:text-top;line-height:15px;" border="0" cellspacing="0" cellpadding="0"><tr><td style="color:#008284;background-color:#e3e3e3;vertical-align:text-top;"><div style="margin:7px;text-align:right;white-space:nowrap;"><nobr>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22<br>23<br>24<br>25<br>26<br>27<br>28<br>29<br>30<br>31<br>32<br>33<br>34<br></nobr></div></td><td style="background-color:#008284;padding:1px;"><div style="border:1px #008284 solid;"></div></td><td style="background-color:#efefef;width:100%;vertical-align:text-top;color:#000000;"><div style="margin:7px;"><span style="color:#0000ff;">#include</span><span style="color:#000000;">&nbsp;&lt;stdio.h&gt;<BR>
</span><span style="color:#0000ff;">#include</span><span style="color:#000000;">&nbsp;&lt;stdlib.h&gt;<BR>
</span><span style="color:#0000ff;">#include</span><span style="color:#000000;">&nbsp;&lt;fcntl.h&gt;<BR>
</span><span style="color:#0000ff;">#include</span><span style="color:#000000;">&nbsp;&lt;sys/stat.h&gt;<BR>
</span><span style="color:#0000ff;">#include</span><span style="color:#000000;">&nbsp;&lt;unistd.h&gt;<BR>
<BR>
</span><span style="color:#8000ff;">void</span><span style="color:#000000;">&nbsp;mydaemond(</span><span style="color:#8000ff;">void</span><span style="color:#000000;">)<BR>
{<BR>
&nbsp;&nbsp;&nbsp;&nbsp;pid_t&nbsp;pid&nbsp;=&nbsp;fork();<BR>
&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:#0000ff;">if</span><span style="color:#000000;">&nbsp;(pid&nbsp;&gt;&nbsp;</span><span style="color:#ff0000;">0</span><span style="color:#000000;">)&nbsp;{<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exit(</span><span style="color:#ff0000;">1</span><span style="color:#000000;">);<BR>
&nbsp;&nbsp;&nbsp;&nbsp;}<BR>
&nbsp;&nbsp;&nbsp;&nbsp;setsid();<BR>
&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:#8000ff;">int</span><span style="color:#000000;">&nbsp;ret&nbsp;=&nbsp;chdir(</span><span style="color:#800000;">&quot;/home/itcast/&quot;</span><span style="color:#000000;">);<BR>
&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:#0000ff;">if</span><span style="color:#000000;">&nbsp;(ret&nbsp;==&nbsp;-</span><span style="color:#ff0000;">1</span><span style="color:#000000;">)&nbsp;{<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;perror(</span><span style="color:#800000;">&quot;chdir&nbsp;error&quot;</span><span style="color:#000000;">);&nbsp;&nbsp;</span><span style="color:#008000;">//&nbsp;chdir&nbsp;error&nbsp;no&nbsp;such&nbsp;diractroy&nbsp;or&nbsp;file<BR>
</span><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exit(</span><span style="color:#ff0000;">1</span><span style="color:#000000;">);<BR>
&nbsp;&nbsp;&nbsp;&nbsp;}<BR>
&nbsp;&nbsp;&nbsp;&nbsp;umask(</span><span style="color:#ff0000;">0022</span><span style="color:#000000;">);<BR>
&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:#008000;">//close(fd[0]);&nbsp;&nbsp;//stdin<BR>
</span><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;close(STDIN_FILENO);<BR>
&nbsp;&nbsp;&nbsp;&nbsp;open(</span><span style="color:#800000;">&quot;/dev/null&quot;</span><span style="color:#000000;">,&nbsp;O_RDWR);<BR>
&nbsp;&nbsp;&nbsp;&nbsp;dup2(</span><span style="color:#ff0000;">0</span><span style="color:#000000;">,&nbsp;STDOUT_FILENO);<BR>
&nbsp;&nbsp;&nbsp;&nbsp;dup2(</span><span style="color:#ff0000;">0</span><span style="color:#000000;">,&nbsp;STDERR_FILENO);<BR>
}<BR>
<BR>
</span><span style="color:#8000ff;">int</span><span style="color:#000000;">&nbsp;main(</span><span style="color:#8000ff;">void</span><span style="color:#000000;">)<BR>
{<BR>
&nbsp;&nbsp;&nbsp;&nbsp;mydaemond();<BR>
&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:#0000ff;">while</span><span style="color:#000000;">&nbsp;(</span><span style="color:#ff0000;">1</span><span style="color:#000000;">)&nbsp;{<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;}<BR>
&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:#0000ff;">return</span><span style="color:#000000;">&nbsp;</span><span style="color:#ff0000;">0</span><span style="color:#000000;">;<BR>
}</span></div></td></tr></table></div></p>

<p><br><br><br>
<font color = gray size = 3>å¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿æŒ‡æ­£ï¼</font></p></div>
        <div class="post_footer">
          
          <div class="meta">
            <div class="info">
              <span class="field tags">
                <i class="remixicon-stack-line"></i>
                
                <a href="https://oubc.github.io/tags/linux/">Linux</a>
                
              </span>
            </div>
          </div>
          
        </div>
      </div>
      
      
    </div>
  </div>
  <a id="back_to_top" href="#" class="back_to_top"><span>â–³</span></a>
</div>
<footer class="footer">
  <div class="powered_by">
    <a href="https://wxt.sinaimg.cn/thumb300/007Diza3ly1g4l9lmg4aog3074074gnf.gif?tags=%5B%5D">I </a>
	<a href="">love</a>
    <a href="https://wxt.sinaimg.cn/thumb300/007Diza3ly1g4l9lmfm2eg306o06o74u.gif?tags=%5B%5D"> you </a>
    <a href="https://wxt.sinaimg.cn/thumb300/007Diza3ly1g4njrx4tpcj30fn0bq3zg.jpg?tags=%5B%5D">three </a>
	<a href="https://wxt.sinaimg.cn/thumb300/007Diza3ly1g4njrx64ctg307s07swfy.gif?tags=%5B%5D">thousand</a>
    <a href="https://www.kugou.com/song/#hash=96426C78381DE98DC31A5846FC274CBF&album_id=646623"> times.</a>
  </div>

  <div class="footer_slogan">
    <span>å®¶åº­ã€æ¢¦æƒ³ã€å†…å¿ƒçš„å¹³é™</span>
  </div>
</footer>



<script src="https://oubc.github.io/js/jquery-3.3.1.min.js"></script>
<script src="https://oubc.github.io/js/zozo.js"></script>
<script src="https://oubc.github.io/js/highlight.pack.js"></script>
<link  href="https://oubc.github.io/css/fancybox.min.css" rel="stylesheet">
<script src="https://oubc.github.io/js/fancybox.min.js"></script>

<script>hljs.initHighlightingOnLoad()</script>


  <script type="text/javascript" async src="https://cdn.bootcss.com/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    displayMath: [['$$','$$'], ['\[\[','\]\]']],
    processEscapes: true,
    processEnvironments: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
    TeX: { equationNumbers: { autoNumber: "AMS" },
         extensions: ["AMSmath.js", "AMSsymbols.js"] }
  }
});

MathJax.Hub.Queue(function() {
    
    
    
    var all = MathJax.Hub.getAllJax(), i;
    for(i = 0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
    }
});
</script>

<style>
code.has-jax {
    font: inherit;
    font-size: 100%;
    background: inherit;
    border: inherit;
    color: #515151;
}
</style>






</body>
</html>
